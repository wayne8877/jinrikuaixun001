<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆç››ä»Šæ—¥å¿«è®¯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Application Structure Plan: 
        Refined SPA focusing on editorial-quality text presentation and subtle interactions.
        1. Header: Minimalist title, localized date.
        2. Controls: Elegantly styled "Read All" and "AI Trend Analysis" buttons. Language switcher is a discreet text link.
        3. Main Content: News items with improved typography, spacing, and a refined "Read More/Collapse" interaction.
        4. AI Display Areas: Clean presentation for AI-generated content.
        User Flow: A premium reading experience with intuitive navigation and subtle interactive cues.
    -->
    <!-- Visualization & Content Choices:
        - News Item: Enhanced HTML structure for better typographic control. "Read More" is now a more integrated text link/icon.
        - All interactive elements have refined hover/active states.
    -->
    <style>
        body {
            font-family: 'Roboto', 'Noto Sans SC', sans-serif; /* Prioritize Roboto for a more international feel */
            background-color: #FFFFFF; 
            color: #262626; /* Near Black for primary text */
            line-height: 1.8; /* Generous line height */
            padding-bottom: 80px; 
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .app-container {
            max-width: 900px; /* Slightly wider for more breathing room */
            margin: 0 auto;
            padding: 2rem 2.5rem; 
        }
        .news-item {
            background-color: #FFFFFF;
            border-radius: 0px; /* Sharp edges for a more editorial feel */
            padding: 2.5rem 0; /* Vertical padding, no horizontal padding, relies on app-container */
            margin-bottom: 2rem;
            border-bottom: 1px solid #EAEAEA; /* Subtle separator */
            transition: background-color 0.3s ease;
        }
        .news-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        .news-item.reading {
            border-left: 3px solid #4A5568; 
            padding-left: calc(2rem - 3px); /* Adjust padding to maintain alignment, assuming original horizontal padding was part of the item, now it's on container */
        }
        .news-title {
            font-size: 2rem; 
            font-weight: 700; 
            color: #1A1A1A; 
            margin-bottom: 0.75rem; 
            line-height: 1.3;
            transition: color 0.2s ease;
        }
        .news-title:hover { /* Added hover for title for interactivity */
            color: #4A5568; 
        }
        .news-meta {
            font-size: 0.875rem; 
            color: #6B7280; 
            margin-bottom: 1.25rem; 
            display: flex;
            align-items: center;
        }
        .flag-icon {
            margin-right: 0.5em; 
            font-size: 1.2em; 
            line-height: 1;
        }
        .news-content-container {
             flex-grow: 1;
        }
        .news-snippet-content, .news-full-content {
            font-size: 1.05rem; 
            color: #4B5864; 
            margin-bottom: 1rem;
            white-space: pre-wrap; 
        }
        .news-snippet-content {
            max-height: 6.5em; /* Approx 3 lines based on line-height 1.8 */
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3; 
            -webkit-box-orient: vertical;
        }
        .read-more-button {
            display: inline-flex; /* To align icon and text */
            align-items: center;
            color: #3B82F6; 
            font-weight: 500;
            font-size: 0.95rem;
            margin-top: 0.5rem;
            margin-bottom: 1.5rem; 
            cursor: pointer;
            transition: color 0.2s ease, letter-spacing 0.2s ease;
            border: none;
            background: none;
            padding: 0.25rem 0.1rem; 
        }
        .read-more-button:hover {
            color: #2563EB; 
            letter-spacing: 0.3px; /* Subtle letter spacing on hover */
        }
        .read-more-button .arrow-icon {
            display: inline-block;
            margin-left: 0.4em; /* Space for arrow */
            font-size: 0.8em; /* Smaller arrow */
            transition: transform 0.25s ease-in-out;
        }
        .read-more-button.expanded .arrow-icon {
            transform: rotate(180deg);
        }

        .news-actions {
             margin-top: auto;
        }
        .action-button, .ai-action-button, .control-button {
            padding: 0.65rem 1.3rem; /* Adjusted padding */
            border-radius: 8px; /* More standard radius */
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s ease-in-out; /* Smoother transition */
            border: 1px solid #D1D5DB; 
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.45rem; /* Adjusted gap */
            background-color: #FFFFFF;
            color: #4B5563; 
        }
        .action-button:hover, .ai-action-button:hover, .control-button:hover {
            background-color: #F7FAFC; 
            border-color: #A0AEC0; /* Slightly darker border on hover */
            transform: translateY(-2px); /* More noticeable lift */
            box-shadow: 0 4px 10px rgba(0,0,0,0.07); /* Refined shadow */
        }
        .action-button:active, .ai-action-button:active, .control-button:active {
            transform: translateY(0px) scale(0.97); /* More pronounced press */
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
        }

        .control-button { 
            background-color: #4A5568; 
            color: white;
            border-color: #4A5568;
        }
        .control-button:hover { 
            background-color: #2D3748; /* Darker Slate */
            border-color: #2D3748;
        }

        .language-switcher-fixed {
            position: fixed;
            bottom: 25px; 
            left: 25px;
            background-color: transparent;
            color: #718096; /* Softer gray */
            padding: 0.4rem 0.8rem;
            border-radius: 6px; 
            font-size: 0.9rem; /* Slightly larger for better click target */
            font-weight: 500;
            z-index: 1000;
            transition: color 0.2s ease, background-color 0.2s ease;
            border: none;
            cursor: pointer;
        }
        .language-switcher-fixed:hover {
            color: #2D3748; /* Darker on hover */
            background-color: rgba(237, 242, 247, 0.7); /* Very subtle bg on hover */
        }
        .ai-summary-display, .ai-trend-analysis-display {
            margin-top: 1.5rem;
            padding: 1.5rem; 
            background-color: #F9FAFB; 
            border: 1px solid #F3F4F6; 
            border-radius: 8px;
            font-size: 0.95rem; 
            color: #4B5864;
            white-space: pre-wrap; 
        }
        .loading-inline {
            font-size: 0.8rem;
            color: #777777;
            margin-left: 6px;
        }
        .section-title {
            font-size: 1.75rem; 
            font-weight: 600;
            color: #1A1A1A; 
            margin-bottom: 1.5rem;
            margin-top: 3rem; 
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #EAEAEA;
        }
        header h1 {
             color: #1A1A1A; 
        }
        .icon-speaker::before {
            content: "ğŸ”Š";
            margin-right: 0.4em; 
            font-size: 1em; 
            line-height: 1;
        }
         .icon-ai::before {
            content: "âœ¨";
            margin-right: 0.4em; 
            font-size: 1em; 
            line-height: 1;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="antialiased">

    <div id="app" class="app-container">
        <header class="text-center py-10 mb-6">
            <h1 id="appTitle" class="text-4xl md:text-5xl font-bold tracking-tight">åˆç››ä»Šæ—¥å¿«è®¯</h1>
            <p id="currentDate" class="text-lg text-gray-500 mt-3"></p>
        </header>

        <div class="text-center my-8 flex flex-col sm:flex-row justify-center items-center gap-x-4 gap-y-3">
            <button id="readAllButton" class="control-button" data-lang-key="read_all_auto"><span class="icon-speaker"></span><span class="button-text">è‡ªåŠ¨æœ—è¯»å…¨éƒ¨</span></button>
            <button id="aiTrendAnalysisButton" class="control-button" data-lang-key="ai_trend_analysis_button"><span class="icon-ai"></span><span class="button-text">AIè¶‹åŠ¿åˆ†æ</span></button>
        </div>

        <main id="newsFeed">
            </main>
        
        <div id="loadingState" class="text-center py-12">
            <p class="text-gray-500 text-lg">æ­£åœ¨åŠ è½½æ–°é—»...</p>
        </div>
        <div id="noNewsState" class="text-center py-12 hidden">
            <p class="text-gray-500 text-lg">æš‚æ— æ–°é—»å†…å®¹ã€‚</p>
        </div>

        <section id="aiTrendAnalysisSection" class="mt-12 hidden">
            <h2 class="section-title" data-lang-key="ai_trend_analysis_title">AIè¶‹åŠ¿æ´å¯Ÿ</h2>
            <div id="aiTrendAnalysisDisplay" class="ai-trend-analysis-display">
                <p class="ai-trend-text-area"></p>
            </div>
        </section>

        <footer class="text-center py-10 mt-16 border-t border-gray-200">
            <p class="text-gray-500 text-sm">&copy; <span id="currentYear"></span> åˆç››è¾…æ–™ã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
        </footer>
    </div>

    <button id="languageSwitcher" class="language-switcher-fixed">EN</button>

    <script>
        const appTitleElement = document.getElementById('appTitle');
        const newsFeed = document.getElementById('newsFeed');
        const loadingState = document.getElementById('loadingState');
        const noNewsState = document.getElementById('noNewsState');
        const languageSwitcherBtn = document.getElementById('languageSwitcher');
        const readAllButton = document.getElementById('readAllButton');
        const aiTrendAnalysisButton = document.getElementById('aiTrendAnalysisButton');
        const aiTrendAnalysisSection = document.getElementById('aiTrendAnalysisSection');
        const aiTrendAnalysisDisplay = document.getElementById('aiTrendAnalysisDisplay').querySelector('.ai-trend-text-area');
        const currentDateElement = document.getElementById('currentDate');
        
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        let currentLanguage = 'zh'; 
        let speechInstance = window.speechSynthesis;
        let currentUtterance = null;
        let isPlayingAll = false;
        let currentPlayAllIndex = 0;

        const appTitles = {
            zh: "åˆç››ä»Šæ—¥å¿«è®¯",
            en: "Hesheng News Express"
        };

        const flagEmojis = {
            EU: 'ğŸ‡ªğŸ‡º', US: 'ğŸ‡ºğŸ‡¸', IN: 'ğŸ‡®ğŸ‡³', JP: 'ğŸ‡¯ğŸ‡µ', KR: 'ğŸ‡°ğŸ‡·',
            GLOBAL: 'ğŸŒ', AF: 'ğŸŒ', SEA: 'ğŸŒ', CN: 'ğŸ‡¨ğŸ‡³' 
        };

        const initialNewsData = [
            { id: 'news1', title_zh: 'æ¬§æ´²æ–°è§„ï¼šæœè£…è¾…æ–™ç¯ä¿é—¨æ§›å†æå‡', title_en: 'Europe Raises Environmental Standards for Garment Trims', content_zh: `2020å¹´11æœˆ1æ—¥ï¼Œæ¬§ç›Ÿé€šè¿‡ã€ŠREACHæ³•è§„ã€‹ï¼ˆRegulation (EC) No 1907/2006ï¼‰é™„ä»¶XVIIç¬¬72æ¡ï¼Œå®æ–½äº†é’ˆå¯¹çººç»‡å“ã€æœè£…å’Œé‹ç±»ä¸­å±å®³ç‰©è´¨çš„æ–°é™åˆ¶ï¼Œæ—¨åœ¨ä¿æŠ¤äººä½“å¥åº·å’Œç¯å¢ƒã€‚è¯¥æ³•è§„é™åˆ¶äº†33ç§è¢«åˆ†ç±»ä¸º1Aæˆ–1Bç±»è‡´ç™Œã€è‡´çªå˜æˆ–ç”Ÿæ®–æ¯’æ€§ï¼ˆCMRï¼‰çš„ç‰©è´¨åœ¨ä¸äººä½“çš®è‚¤æ¥è§¦çš„æ¶ˆè´¹å“ä¸­çš„ä½¿ç”¨ã€‚\nå—é™ç‰©è´¨æ¸…å•ï¼ˆéƒ¨åˆ†ï¼Œè¯¦è§é™„ä»¶XVIIé™„å½•12ï¼‰ï¼š\n- é•‰åŠå…¶åŒ–åˆç‰©ï¼šâ‰¤ 1 mg/kgï¼ˆå¯æå–é•‰é‡‘å±ï¼‰\n- å…­ä»·é“¬åŒ–åˆç‰©ï¼šâ‰¤ 1 mg/kgï¼ˆå¯æå–Cr VIï¼‰\n- ç ·åŒ–åˆç‰©ï¼šâ‰¤ 1 mg/kgï¼ˆå¯æå–ç ·é‡‘å±ï¼‰\n- é“…åŠå…¶åŒ–åˆç‰©ï¼šâ‰¤ 1 mg/kgï¼ˆå¯æå–é“…é‡‘å±ï¼‰\n- è‹¯ï¼ˆCAS 71-43-2ï¼‰ï¼šâ‰¤ 5 mg/kg\n- è‹¯å¹¶[a]èŠ˜ï¼ˆCAS 50-32-8ï¼‰ï¼šâ‰¤ 1 mg/kg\n- ç”²é†›ï¼ˆCAS 50-00-0ï¼‰ï¼šâ‰¤ 75 mg/kgï¼ˆå¤¹å…‹ã€å¤–å¥—ã€å®¤å†…è£…æ½¢è‡³2023å¹´11æœˆ1æ—¥å‰â‰¤ 300 mg/kgï¼‰\n- é‚»è‹¯äºŒç”²é…¸é…¯ï¼šâ‰¤ 1000 mg/kgï¼ˆå•ç‹¬æˆ–ç»„åˆï¼‰\n- å¶æ°®æŸ“æ–™ï¼ˆå¦‚C.I.åˆ†æ•£è“1ï¼ŒCAS 2475-45-8ï¼‰ï¼šâ‰¤ 50 mg/kg\né€‚ç”¨èŒƒå›´ï¼š\n- æœè£…åŠç›¸å…³é…ä»¶ï¼ˆå¦‚è¿åŠ¨æœã€è¿åŠ¨åŒ…ï¼‰\n- ä¸çš®è‚¤æ¥è§¦çš„éæœè£…çººç»‡å“ï¼ˆå¦‚åºŠä¸Šç”¨å“ã€æ¯›æ¯¯ï¼‰\n- é‹ç±»\nè±å…ï¼š\n- ä»…ç”±å¤©ç„¶çš®é©ã€æ¯›çš®æˆ–å…½çš®åˆ¶æˆçš„äº§å“\n- éçººç»‡ç´§å›ºä»¶å’Œè£…é¥°é™„ä»¶\n- äºŒæ‰‹æœè£…\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- äº§å“åˆè§„æ€§ï¼šéœ€ç«‹å³å®¡æŸ¥é’®æ‰£äº§å“æˆåˆ†ï¼Œç¡®ä¿ä¸å«è¶…æ ‡å—é™ç‰©è´¨ï¼Œç‰¹åˆ«æ˜¯é“…å’Œå¶æ°®æŸ“æ–™ã€‚\n- åŸææ–™é‡‡è´­ï¼šä¸ä¾›åº”å•†åˆä½œï¼Œé‡‡è´­ç¬¦åˆæ¬§ç›Ÿæ ‡å‡†çš„åŸææ–™ï¼Œé¿å…ä½¿ç”¨å«é“…æˆ–é•‰çš„é‡‘å±åˆé‡‘ã€‚\n- æµ‹è¯•ä¸è®¤è¯ï¼šé€šè¿‡è®¤è¯å®éªŒå®¤è¿›è¡Œäº§å“æµ‹è¯•ï¼Œç¡®ä¿ç¬¦åˆæ–°é™å€¼å¹¶è·å¾—è®¤è¯ã€‚\n- ä¾›åº”é“¾è°ƒæ•´ï¼šå»ºç«‹å¯è¿½æº¯ç³»ç»Ÿï¼Œè®°å½•åŸææ–™æ¥æºå’Œç”Ÿäº§è¿‡ç¨‹ï¼Œä»¥åº”å¯¹æ¬§ç›Ÿç›‘ç®¡è¦æ±‚ã€‚\n- æ—¶é—´ç´§è¿«ï¼šæ³•è§„å·²ç”Ÿæ•ˆï¼Œéœ€è¿…é€Ÿé‡‡å–è¡ŒåŠ¨ä»¥é¿å…å‡ºå£å—é˜»ã€‚`, content_en: `On November 1, 2020, the EU implemented new restrictions on hazardous substances in textiles, clothing, and footwear through Annex XVII, Article 72 of the REACH Regulation (EC) No 1907/2006, aiming to protect human health and the environment. The regulation restricts 33 substances classified as carcinogenic, mutagenic, or reprotoxic (CMR) category 1A or 1B in consumer products that come into contact with human skin.\nRestricted Substances List (partial, see Annex XVII Appendix 12 for details):\n- Cadmium and its compounds: â‰¤ 1 mg/kg (extractable cadmium metal)\n- Hexavalent chromium compounds: â‰¤ 1 mg/kg (extractable Cr VI)\n- Arsenic compounds: â‰¤ 1 mg/kg (extractable arsenic metal)\n- Lead and its compounds: â‰¤ 1 mg/kg (extractable lead metal)\n- Benzene (CAS 71-43-2): â‰¤ 5 mg/kg\n- Benzo[a]pyrene (CAS 50-32-8): â‰¤ 1 mg/kg\n- Formaldehyde (CAS 50-00-0): â‰¤ 75 mg/kg (for jackets, coats, upholstery until Nov 1, 2023 â‰¤ 300 mg/kg)\n- Phthalates: â‰¤ 1000 mg/kg (individually or combined)\n- Azo dyes (e.g., C.I. Disperse Blue 1, CAS 2475-45-8): â‰¤ 50 mg/kg\nScope:\n- Clothing and related accessories (e.g., sportswear, sports bags).\n- Non-clothing textiles in contact with skin (e.g., bedding, blankets).\n- Footwear.\nExemptions:\n- Products made exclusively of natural leather, fur, or hide.\n- Non-textile fasteners and decorative attachments.\n- Second-hand clothing.\nImpact on Chinese Button Manufacturers:\n- Product Compliance: Immediately review button product compositions to ensure they do not exceed restricted substance limits, especially for lead and azo dyes.\n- Raw Material Sourcing: Collaborate with suppliers to source EU-compliant raw materials, avoiding lead or cadmium-containing metal alloys.\n- Testing & Certification: Conduct product testing through certified labs to ensure compliance with new limits and obtain certification.\n- Supply Chain Adjustment: Establish traceability systems to record raw material origins and production processes to meet EU regulatory demands.\n- Urgency: The regulation is effective; swift action is needed to avoid export disruptions.`, source_zh: 'æ¬§æ´²åŒ–å­¦å“ç®¡ç†å±€ï¼ˆECHAï¼‰ã€REACHæ³•è§„', source_en: 'European Chemicals Agency (ECHA), REACH Regulation', publishDate: '2025-06-03', sourceCountryCode: 'EU' },
            { id: 'news2', title_zh: 'åŒ—ç¾æœè£…ä¸šå¤è‹ï¼Œè¾…æ–™éœ€æ±‚é£™å‡', title_en: 'North American Apparel Industry Recovers, Trim Demand Surges', content_zh: `éšç€åŒ—ç¾ç»æµé€æ­¥å¤è‹ï¼Œæ¶ˆè´¹è€…å¯¹æœè£…çš„è´­ä¹°æ„æ„¿å¢å¼ºï¼Œæœè£…é”€å”®æ˜¾è‘—å¢é•¿ã€‚æ ¹æ®åŒ—ç¾æœè£…è¡Œä¸šåä¼šçš„æŠ¥å‘Šï¼Œç»æµæ”¹å–„å’Œæ¶ˆè´¹è€…ä¿¡å¿ƒæå‡æ¨åŠ¨äº†æœè£…å¸‚åœºçš„å›æš–ï¼Œé¢„è®¡æœªæ¥ä¸€å¹´å†…è¾…æ–™éœ€æ±‚å°†å¢é•¿15-20%ã€‚ä¸»è¦é©±åŠ¨å› ç´ åŒ…æ‹¬ï¼š\n- ç»æµå¤è‹ï¼šæ¶ˆè´¹è€…å¯æ”¯é…æ”¶å…¥å¢åŠ ï¼Œåˆºæ¿€äº†å¯¹æ—¶å°šäº§å“çš„éœ€æ±‚ã€‚\n- æ—¶å°šè¶‹åŠ¿ï¼šæ¶ˆè´¹è€…è¿½æ±‚ç‹¬ç‰¹å’Œæ—¶å°šçš„é…ä»¶ï¼Œå¦‚ä¸ªæ€§åŒ–è®¾è®¡çš„é’®æ‰£ã€‚\n- å¯æŒç»­æ€§ï¼šå¯¹ç¯ä¿å’Œå¯æŒç»­äº§å“çš„éœ€æ±‚å¢åŠ ï¼Œå½±å“è¾…æ–™é€‰æ‹©ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- å¸‚åœºæ‹“å±•ï¼šæŠ“ä½åŒ—ç¾å¸‚åœºå¢é•¿æœºé‡ï¼Œå¢åŠ å‡ºå£ä»½é¢ã€‚\n- äº§å“å¼€å‘ï¼šç ”å‘ç¬¦åˆåŒ—ç¾æ¶ˆè´¹è€…å–œå¥½çš„é’®æ‰£ï¼Œå¦‚ç®€çº¦è®¾è®¡ã€å¤©ç„¶ææ–™ï¼ˆæœ¨è´¨ã€è´å£³ï¼‰æˆ–å¯æŒç»­äº§å“ã€‚\n- å»ºç«‹åˆä½œï¼šä¸åŒ—ç¾æœè£…åˆ¶é€ å•†å’Œé›¶å”®å•†å»ºç«‹é•¿æœŸåˆä½œå…³ç³»ï¼Œç¡®ä¿ç¨³å®šè®¢å•ã€‚\n- åˆè§„æ€§ï¼šç¡®ä¿äº§å“ç¬¦åˆåŒ—ç¾å®‰å…¨å’Œè´¨é‡æ ‡å‡†ï¼Œå¦‚ç¾å›½æ¶ˆè´¹å“å®‰å…¨å§”å‘˜ä¼šï¼ˆCPSCï¼‰æˆ–åŠ æ‹¿å¤§æ¶ˆè´¹å“å®‰å…¨æ³•æ¡ˆï¼ˆCCPSAï¼‰ã€‚\n- è¥é”€ç­–ç•¥ï¼šé€šè¿‡å‚åŠ è´¸æ˜“å±•è§ˆï¼ˆå¦‚MAGIC Las Vegasï¼‰æˆ–åœ¨çº¿å¹³å°æå‡å“ç‰ŒçŸ¥ååº¦ã€‚`, content_en: `As the North American economy gradually recovers, consumer willingness to purchase apparel has increased, leading to significant growth in clothing sales. According to a report by the North American Apparel Industry Association, economic improvement and rising consumer confidence have driven the recovery of the apparel market, with trim demand expected to grow by 15-20% in the coming year. Key drivers include:\n- Economic Recovery: Increased consumer disposable income stimulates demand for fashion products.\n- Fashion Trends: Consumers seek unique and stylish accessories, such as personalized button designs.\n- Sustainability: Growing demand for eco-friendly and sustainable products influences trim choices.\nImpact on Chinese Button Manufacturers:\n- Market Expansion: Seize growth opportunities in the North American market to increase export share.\n- Product Development: Develop buttons catering to North American consumer preferences, such as minimalist designs, natural materials (wood, shell), or sustainable products.\n- Establish Cooperation: Build long-term partnerships with North American apparel manufacturers and retailers to secure stable orders.\n- Compliance: Ensure products meet North American safety and quality standards, such as those from the U.S. Consumer Product Safety Commission (CPSC) or the Canada Consumer Product Safety Act (CCPSA).\n- Marketing Strategy: Enhance brand visibility by participating in trade shows (e.g., MAGIC Las Vegas) or utilizing online platforms.`, source_zh: 'åŒ—ç¾æœè£…è¡Œä¸šåä¼šã€å¸‚åœºç ”ç©¶æŠ¥å‘Š', source_en: 'North American Apparel Industry Association, Market Research Reports', publishDate: '2025-06-02', sourceCountryCode: 'US'},
            { id: 'news3', title_zh: 'å°åº¦æ‰¶æŒæœ¬åœŸè¾…æ–™äº§ä¸šï¼Œè¿›å£æˆ–å—å½±å“', title_en: 'India Supports Domestic Trim Industry, Imports May Be Affected', content_zh: `å°åº¦æ”¿åºœé€šè¿‡å¤šé¡¹æ”¿ç­–æ”¯æŒæœ¬åœŸæœè£…è¾…æ–™äº§ä¸šï¼Œç›®æ ‡åœ¨ä¸‰å¹´å†…å°†è‡ªç»™ç‡ä»60%æé«˜åˆ°80%ã€‚æ”¿ç­–åŒ…æ‹¬ï¼š\n- ç¨æ”¶ä¼˜æƒ ï¼šä¸ºæœ¬åœ°åˆ¶é€ å•†æä¾›ç¨æ”¶å‡å…å’Œä¼˜æƒ ã€‚\n- ç ”å‘è¡¥è´´ï¼šä¸ºè¾…æ–™è¡Œä¸šçš„ç ”å‘æä¾›èµ„é‡‘æ”¯æŒï¼Œé¼“åŠ±åˆ›æ–°ã€‚\n- è¿›å£å…³ç¨ï¼šè®¡åˆ’é€æ­¥æé«˜è¿›å£è¾…æ–™çš„å…³ç¨ï¼Œä»¥ä¿æŠ¤æœ¬åœŸäº§ä¸šã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- å¸‚åœºè¯„ä¼°ï¼šå¯†åˆ‡å…³æ³¨å°åº¦æ”¿ç­–å˜åŒ–ï¼Œè¯„ä¼°å¯¹å‡ºå£ä¸šåŠ¡çš„å½±å“ã€‚\n- æœ¬åœ°ç”Ÿäº§ï¼šè€ƒè™‘åœ¨å°åº¦è®¾ç«‹ç”Ÿäº§åŸºåœ°ï¼Œåˆ©ç”¨å½“åœ°æ”¿ç­–ä¼˜åŠ¿ã€‚\n- åˆä½œæœºä¼šï¼šä¸å°åº¦ä¼ä¸šå»ºç«‹åˆèµ„æˆ–åˆä½œå…³ç³»ï¼Œç»´æŒå¸‚åœºç«äº‰åŠ›ã€‚\n- å¸‚åœºå¤šå…ƒåŒ–ï¼šå¼€æ‹“å…¶ä»–å¸‚åœºï¼ˆå¦‚ä¸œå—äºšã€éæ´²ï¼‰ï¼Œå‡å°‘å¯¹å°åº¦å¸‚åœºçš„ä¾èµ–ã€‚`, content_en: `The Indian government is supporting its domestic garment accessories industry through various policies, aiming to increase self-sufficiency from 60% to 80% within three years. Policies include:\n- Tax Incentives: Providing tax exemptions and benefits for local manufacturers.\n- R&D Subsidies: Offering financial support for R&D in the accessories sector to encourage innovation.\n- Import Tariffs: Planning to gradually increase tariffs on imported trims to protect the domestic industry.\nImpact on Chinese Button Manufacturers:\n- Market Assessment: Closely monitor changes in Indian policies and assess their impact on export business.\n- Local Production: Consider establishing production bases in India to leverage local policy advantages.\n- Cooperation Opportunities: Form joint ventures or partnerships with Indian companies to maintain market competitiveness.\n- Market Diversification: Explore other markets (e.g., Southeast Asia, Africa) to reduce reliance on the Indian market.`, source_zh: 'å°åº¦çººç»‡éƒ¨ã€å°åº¦ç»æµæ—¶æŠ¥', source_en: 'Indian Ministry of Textiles, The Economic Times (India)', publishDate: '2025-06-01', sourceCountryCode: 'IN'},
            { id: 'news4', title_zh: 'æ—¥æœ¬è¾…æ–™è®¾è®¡ï¼šäºšæ´²æ—¶å°šé£å‘æ ‡', title_en: 'Japanese Trim Design: Asia\'s Fashion Trendsetter', content_zh: `æ—¥æœ¬ä»¥å…¶ç‹¬ç‰¹çš„è¾…æ–™è®¾è®¡å’Œç²¾æ¹›å·¥è‰ºæˆä¸ºäºšæ´²æ—¶å°šç•Œçš„å¼•é¢†è€…ã€‚æ—¥æœ¬é’®æ‰£é‡‡ç”¨æ–°å‹ææ–™ï¼ˆå¦‚ç¯ä¿æ ‘è„‚ã€é‡‘å±åˆé‡‘ï¼‰å’Œç‹¬ç‰¹çº¹ç†ã€è‰²å½©æ­é…ï¼Œèåˆä¼ ç»Ÿä¸ç°ä»£å…ƒç´ ï¼Œæ·±å—äºšæ´²æœè£…å“ç‰Œé’çã€‚ä¾‹å¦‚ï¼Œæ—¥æœ¬è®¾è®¡å¸ˆå¸¸åœ¨é’®æ‰£ä¸Šèå…¥å’Œé£å…ƒç´ æˆ–é«˜ç§‘æŠ€ææ–™ï¼Œæ»¡è¶³é«˜ç«¯å¸‚åœºå¯¹ä¸ªæ€§åŒ–å’Œåˆ›æ–°çš„éœ€æ±‚ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- è®¾è®¡å­¦ä¹ ï¼šç ”ç©¶æ—¥æœ¬è®¾è®¡é£æ ¼ï¼Œèå…¥åˆ›æ–°å…ƒç´ ï¼Œæå‡äº§å“å¸å¼•åŠ›ã€‚\n- æŠ€æœ¯å¼•è¿›ï¼šæŠ•èµ„å…ˆè¿›è®¾è®¡å’Œåˆ¶é€ æŠ€æœ¯ï¼Œæé«˜å·¥è‰ºæ°´å¹³ã€‚\n- å“ç‰Œæå‡ï¼šå‚åŠ å›½é™…æ—¶å°šå±•ä¼šï¼ˆå¦‚ä¸œäº¬å›½é™…ç¤¼å“å±•ï¼‰ï¼Œå±•ç¤ºç‹¬ç‰¹è®¾è®¡ã€‚\n- äººæ‰åŸ¹å…»ï¼šåŸ¹å…»ä¸“ä¸šè®¾è®¡å›¢é˜Ÿï¼Œå¼€å‘å…·æœ‰ç«äº‰åŠ›çš„äº§å“ã€‚`, content_en: `Japan leads the Asian fashion scene with its unique accessory designs and exquisite craftsmanship. Japanese buttons often feature new materials (like eco-friendly resins, metal alloys) and unique textures and color combinations, blending traditional and modern elements, highly favored by Asian fashion brands. For instance, Japanese designers frequently incorporate traditional Japanese motifs or high-tech materials into buttons, meeting the high-end market's demand for personalization and innovation.\nImpact on Chinese Button Manufacturers:\n- Design Learning: Study Japanese design styles and incorporate innovative elements to enhance product appeal.\n- Technology Adoption: Invest in advanced design and manufacturing technologies to improve craftsmanship.\n- Brand Enhancement: Participate in international fashion exhibitions (e.g., Tokyo International Gift Show) to showcase unique designs.\n- Talent Development: Cultivate professional design teams to develop competitive products.`, source_zh: 'æ—¥æœ¬æ—¶å°šå‘¨ã€æ—¥æœ¬æ—¶å°šç½‘ç»œ', source_en: 'Japan Fashion Week, FashionNetwork.jp', publishDate: '2025-05-31', sourceCountryCode: 'JP'},
            { id: 'news5', title_zh: 'å¿«æ—¶å°šå“ç‰ŒåŠ é€Ÿï¼Œè¾…æ–™ä¾›åº”é“¾æ±‚å˜', title_en: 'Fast Fashion Brands Accelerate, Trim Supply Chains Seek Change', content_zh: `å¿«æ—¶å°šå“ç‰Œï¼ˆå¦‚Zaraã€H&Mï¼‰ä»¥å¿«é€Ÿæ¨å‡ºæ–°æ¬¾æœè£…ä¸ºæ ¸å¿ƒç«äº‰åŠ›ï¼Œè¦æ±‚è¾…æ–™ä¾›åº”å•†åœ¨çŸ­æ—¶é—´å†…æä¾›å¤šæ ·åŒ–ã€é«˜è´¨é‡çš„äº§å“ã€‚äº¤è´§å‘¨æœŸä»å‡ å‘¨ç¼©çŸ­è‡³å‡ å¤©ï¼ŒåŒæ—¶å¯¹äº§å“è´¨é‡ç¨³å®šæ€§å’Œä¾›åº”çš„è¿ç»­æ€§è¦æ±‚æé«˜ã€‚å“ç‰Œè¿˜å¼ºè°ƒä¾›åº”é“¾é€æ˜åº¦å’Œå¯æŒç»­æ€§ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- ä¾›åº”é“¾ä¼˜åŒ–ï¼šé‡‡ç”¨ä¿¡æ¯åŒ–ç³»ç»Ÿï¼ˆå¦‚ERPï¼‰æé«˜ç”Ÿäº§è®¡åˆ’çš„çµæ´»æ€§å’Œå‡†ç¡®æ€§ã€‚\n- å¿«é€Ÿå“åº”ï¼šä¼˜åŒ–ç”Ÿäº§æµç¨‹ï¼Œç¼©çŸ­äº¤è´§å‘¨æœŸï¼Œæ»¡è¶³å¿«æ—¶å°šå“ç‰Œéœ€æ±‚ã€‚\n- è´¨é‡æ§åˆ¶ï¼šå®æ–½ä¸¥æ ¼çš„è´¨é‡ç®¡ç†ä½“ç³»ï¼Œç¡®ä¿äº§å“ä¸€è‡´æ€§ã€‚\n- ä¾›åº”å•†åˆä½œï¼šä¸åŸææ–™ä¾›åº”å•†å»ºç«‹ç´§å¯†å…³ç³»ï¼Œç¡®ä¿åŠæ—¶ä¾›åº”ã€‚`, content_en: `Fast fashion brands (like Zara, H&M) compete by rapidly launching new clothing styles, requiring accessory suppliers to provide diverse, high-quality products in short timeframes. Delivery cycles have shrunk from weeks to days, with extremely high demands for product quality stability and supply continuity. Brands also emphasize supply chain transparency and sustainability.\nImpact on Chinese Button Manufacturers:\n- Supply Chain Optimization: Implement information systems (like ERP) to enhance the flexibility and accuracy of production planning.\n- Rapid Response: Optimize production processes to shorten delivery times and meet the demands of fast fashion brands.\n- Quality Control: Implement strict quality management systems to ensure product consistency.\n- Supplier Collaboration: Establish close relationships with raw material suppliers to ensure timely supply.`, source_zh: 'Zaraä¾›åº”é“¾æˆ˜ç•¥ã€H&Må¯æŒç»­å‘å±•æŠ¥å‘Š', source_en: 'Zara Supply Chain Strategy, H&M Sustainability Report', publishDate: '2025-05-30', sourceCountryCode: 'GLOBAL'},
            { id: 'news6', title_zh: 'éŸ©å›½åˆ›æ–°è¾…æ–™ï¼Œå›½é™…èˆå°å—ç©ç›®', title_en: 'Korean Innovative Trims Gain International Attention', content_zh: `éŸ©å›½ç§‘ç ”æœºæ„ä¸ä¼ä¸šåˆä½œï¼Œæ¨å‡ºå¤šç§åˆ›æ–°å‹æœè£…è¾…æ–™ï¼Œå¦‚æ™ºèƒ½æ¸©æ§é’®æ‰£ï¼ˆå¯æ ¹æ®ä½“æ¸©è°ƒèŠ‚æ¸©åº¦ï¼‰å’Œè‡ªæ¸…æ´é’®æ‰£ã€‚è¿™äº›äº§å“å—åˆ°è¿åŠ¨å“ç‰Œå’Œé«˜ç«¯æœè£…åˆ¶é€ å•†çš„å…³æ³¨ã€‚éŸ©å›½ä¼ä¸šï¼ˆå¦‚LGã€ä¸‰æ˜Ÿï¼‰åœ¨åŠŸèƒ½æ€§è¾…æ–™ç ”å‘ä¸ŠæŠ•å…¥å·¨å¤§ï¼Œæ¨åŠ¨äº†è¡Œä¸šåˆ›æ–°ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- ç ”å‘æŠ•å…¥ï¼šåŠ å¤§å¯¹åˆ›æ–°æŠ€æœ¯çš„ç ”å‘ï¼Œæ¢ç´¢æ™ºèƒ½æˆ–åŠŸèƒ½æ€§é’®æ‰£ã€‚\n- æŠ€æœ¯åˆä½œï¼šä¸ç§‘ç ”æœºæ„æˆ–ç§‘æŠ€å…¬å¸åˆä½œï¼Œå°†æ–°æŠ€æœ¯åº”ç”¨äºäº§å“ã€‚\n- åˆ›æ–°æ¿€åŠ±ï¼šå»ºç«‹æ¿€åŠ±æœºåˆ¶ï¼Œæ¿€å‘å‘˜å·¥åˆ›æ–°çƒ­æƒ…ã€‚\n- å¸‚åœºæ¨å¹¿ï¼šåœ¨å›½é™…å±•ä¼šä¸Šå±•ç¤ºåˆ›æ–°äº§å“ï¼Œå¸å¼•é«˜ç«¯å®¢æˆ·ã€‚`, content_en: `South Korean research institutions and companies are collaborating to launch various innovative garment accessories, such as smart temperature-regulating buttons (which can adjust temperature based on body heat) and self-cleaning buttons. These products are attracting attention from sports brands and high-end apparel manufacturers. Korean companies (like LG, Samsung) are investing heavily in R&D for functional trims, driving industry innovation.\nImpact on Chinese Button Manufacturers:\n- R&D Investment: Increase R&D investment in innovative technologies to explore smart or functional buttons.\n- Technological Cooperation: Collaborate with research institutions or tech companies to apply new technologies to products.\n- Innovation Incentives: Establish incentive mechanisms to stimulate employee enthusiasm for innovation.\n- Market Promotion: Showcase innovative products at international exhibitions to attract high-end customers.`, source_zh: 'éŸ©å›½æœè£…è¾…æ–™è¡Œä¸šåä¼šã€TechCrunchéŸ©å›½æŠ€æœ¯åˆ›æ–°æŠ¥é“', source_en: 'Korea Apparel Accessories Industry Association, TechCrunch Korea Tech Innovation Reports', publishDate: '2025-05-29', sourceCountryCode: 'KR'},
            { id: 'news7', title_zh: 'éæ´²è¾…æ–™å¸‚åœºï¼šæ½œåŠ›å¾…æŒ–æ˜', title_en: 'African Trims Market: Untapped Potential', content_zh: `éæ´²äººå£ä¼—å¤šï¼Œç»æµæŒç»­å¢é•¿ï¼Œæœè£…éœ€æ±‚å¢åŠ ï¼Œå¸¦åŠ¨è¾…æ–™å¸‚åœºå‘å±•ã€‚å°¼æ—¥åˆ©äºšã€å—éã€è‚¯å°¼äºšç­‰å›½çš„æœè£…åˆ¶é€ ä¸šé€æ­¥å…´èµ·ï¼Œå¯¹é’®æ‰£ç­‰è¾…æ–™çš„éœ€æ±‚ä¸Šå‡ã€‚éæ´²è¾…æ–™å¸‚åœºä»å¤„äºå‘å±•åˆæœŸï¼Œç«äº‰è¾ƒå°ï¼Œä¸ºä¸­å›½åˆ¶é€ å•†æä¾›äº†è¿›å…¥æœºä¼šã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- å¸‚åœºè°ƒç ”ï¼šæ·±å…¥ç ”ç©¶éæ´²å›½å®¶å’Œåœ°åŒºçš„å¸‚åœºéœ€æ±‚å’Œæ¶ˆè´¹ä¹ æƒ¯ã€‚\n- æ€§ä»·æ¯”äº§å“ï¼šæä¾›ä»·æ ¼åˆç†ã€è´¨é‡å¯é çš„é’®æ‰£ï¼Œæ»¡è¶³éæ´²å¸‚åœºã€‚\n- æœ¬åœ°åŒ–ç½‘ç»œï¼šå»ºç«‹æœ¬åœ°é”€å”®å’ŒæœåŠ¡ç½‘ç»œï¼Œæé«˜å¸‚åœºå“åº”é€Ÿåº¦ã€‚`, content_en: `Africa, with its large population and continuous economic growth, is seeing increased demand for apparel, driving the development of the accessories market. The garment manufacturing industries in countries like Nigeria, South Africa, and Kenya are gradually emerging, leading to a rising demand for trims such as buttons. The African accessories market is still in its early stages of development with less competition, offering entry opportunities for Chinese manufacturers.\nImpact on Chinese Button Manufacturers:\n- Market Research: Conduct in-depth research on market demand and consumer habits in African countries and regions.\n- Cost-Effective Products: Offer reasonably priced, reliable quality buttons to meet the African market's needs.\n- Localization Network: Establish local sales and service networks to improve market responsiveness.`, source_zh: 'ä¸–ç•Œé“¶è¡Œéæ´²æœè£…äº§ä¸šæŠ¥å‘Šã€éæ´²å¼€å‘é“¶è¡Œ', source_en: 'World Bank Africa Apparel Industry Report, African Development Bank', publishDate: '2025-05-28', sourceCountryCode: 'AF'},
            { id: 'news8', title_zh: 'ç¯ä¿åŒ…è£…é£è¡Œï¼Œè¾…æ–™ç´§è·Ÿæ½®æµ', title_en: 'Eco-Friendly Packaging Popular, Trims Follow Suit', content_zh: `å…¨çƒç¯ä¿è¶‹åŠ¿æ¨åŠ¨æœè£…è¾…æ–™è¡Œä¸šé‡‡ç”¨ç¯ä¿åŒ…è£…ææ–™ï¼Œå¦‚çº¸è´¨åŒ…è£…ã€å¯é™è§£å¡‘æ–™å’Œå›æ”¶ææ–™ã€‚æ¶ˆè´¹è€…å’Œå“ç‰Œï¼ˆå¦‚Patagoniaã€Levi'sï¼‰å€¾å‘äºé€‰æ‹©ç¯ä¿åŒ…è£…äº§å“ï¼Œéƒ¨åˆ†å“ç‰Œæ˜ç¡®è¦æ±‚ä¾›åº”å•†ä½¿ç”¨å¯æŒç»­åŒ…è£…ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- åŒ…è£…å‡çº§ï¼šæ›´æ¢ä¸ºç¯ä¿åŒ…è£…ææ–™ï¼Œå¦‚å¯å›æ”¶çº¸æ¿æˆ–ç”Ÿç‰©é™è§£å¡‘æ–™ã€‚\n- åˆ›æ„è®¾è®¡ï¼šä¸åŒ…è£…ä¾›åº”å•†åˆä½œï¼Œå¼€å‘ç¯ä¿ä¸”å¸å¼•äººçš„åŒ…è£…ã€‚\n- å“ç‰Œå®£ä¼ ï¼šåœ¨è¥é”€ä¸­çªå‡ºç¯ä¿åŒ…è£…ç‰¹ç‚¹ï¼Œæå‡å“ç‰Œå½¢è±¡ã€‚`, content_en: `The global environmental trend is pushing the garment accessories industry to adopt eco-friendly packaging materials, such as paper-based packaging, biodegradable plastics, and recycled materials. Consumers and brands (like Patagonia, Levi's) prefer products with eco-friendly packaging, and some brands explicitly require suppliers to use sustainable packaging.\nImpact on Chinese Button Manufacturers:\n- Packaging Upgrade: Switch to eco-friendly packaging materials like recyclable cardboard or biodegradable plastics.\n- Creative Design: Collaborate with packaging suppliers to develop attractive and environmentally friendly packaging.\n- Brand Promotion: Highlight eco-friendly packaging features in marketing to enhance brand image.`, source_zh: 'ZDHCåŸºé‡‘ä¼šã€GreenBizå¯æŒç»­åŒ…è£…æŠ¥å‘Š', source_en: 'ZDHC Foundation, GreenBiz Sustainable Packaging Report', publishDate: '2025-05-27', sourceCountryCode: 'GLOBAL'},
            { id: 'news9', title_zh: '3Dæ‰“å°åŠ©åŠ›è¾…æ–™ç”Ÿäº§åˆ›æ–°', title_en: '3D Printing Drives Innovation in Trim Production', content_zh: `3Dæ‰“å°æŠ€æœ¯åœ¨æœè£…è¾…æ–™ç”Ÿäº§ä¸­åº”ç”¨æ—¥ç›Šå¹¿æ³›ï¼Œå¯å¿«é€Ÿç”Ÿäº§å¤æ‚å½¢çŠ¶çš„é’®æ‰£ï¼Œå¹¶æ”¯æŒä¸ªæ€§åŒ–å®šåˆ¶ã€‚å“ç‰Œå¦‚Adidaså’ŒNikeåˆ©ç”¨3Dæ‰“å°æŠ€æœ¯ä¸ºå®¢æˆ·æä¾›å®šåˆ¶åŒ–é’®æ‰£ï¼Œæ»¡è¶³å¯¹ç‹¬ç‰¹äº§å“çš„éœ€æ±‚ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- æŠ€æœ¯å¼•è¿›ï¼šæŠ•èµ„3Dæ‰“å°è®¾å¤‡å’ŒæŠ€æœ¯ï¼Œå¼€å±•ä¸ªæ€§åŒ–ç”Ÿäº§ã€‚\n- äººæ‰åŸ¹å…»ï¼šåŸ¹è®­3Dæ‰“å°æŠ€æœ¯äººæ‰ï¼Œæå‡è®¾è®¡å’Œç”Ÿäº§èƒ½åŠ›ã€‚\n- å“ç‰Œåˆä½œï¼šä¸æœè£…å“ç‰Œåˆä½œï¼Œå¼€å‘3Dæ‰“å°é’®æ‰£äº§å“ã€‚`, content_en: `3D printing technology is increasingly being used in the production of garment accessories, enabling rapid production of complex-shaped buttons and supporting personalized customization. Brands like Adidas and Nike are using 3D printing to offer customized buttons to customers, meeting the demand for unique products.\nImpact on Chinese Button Manufacturers:\n- Technology Adoption: Invest in 3D printing equipment and technology to enable personalized production.\n- Talent Development: Train personnel in 3D printing technology to enhance design and production capabilities.\n- Brand Collaboration: Partner with apparel brands to develop 3D printed button products.`, source_zh: '3Dæ‰“å°è¡Œä¸šæŠ¥å‘Šã€Wohlers Report', source_en: '3D Printing Industry Reports, Wohlers Report', publishDate: '2025-05-26', sourceCountryCode: 'GLOBAL'},
            { id: 'news10', title_zh: 'æ¬§ç›Ÿå¼ºæ¨ä¾›åº”é“¾é€æ˜ï¼Œè¾…æ–™ä¼ä¸šè¿è€ƒ', title_en: 'EU Pushes for Supply Chain Transparency, Trim Companies Face Scrutiny', content_zh: `æ¬§ç›Ÿè¦æ±‚æœè£…è¾…æ–™ä¼ä¸šå…¬å¼€ä¾›åº”é“¾ä¿¡æ¯ï¼ŒåŒ…æ‹¬åŸææ–™æ¥æºã€ç”Ÿäº§è¿‡ç¨‹å’Œç¯å¢ƒæ ‡å‡†ã€‚è¿è§„ä¼ä¸šå°†é¢ä¸´é«˜é¢ç½šæ¬¾ã€‚æ­¤ä¸¾æ—¨åœ¨ç¡®ä¿ç”Ÿäº§çš„å¯æŒç»­æ€§å’Œå…¬å¹³æ€§ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- è¿½æº¯ä½“ç³»ï¼šå»ºç«‹å®Œå–„çš„ä¾›åº”é“¾è¿½æº¯ç³»ç»Ÿï¼Œè®°å½•é‡‡è´­å’Œç”Ÿäº§ä¿¡æ¯ã€‚\n- ä¾›åº”å•†ç®¡ç†ï¼šè¦æ±‚ä¾›åº”å•†æä¾›åˆè§„è¯æ˜æ–‡ä»¶ã€‚\n- å®šæœŸå®¡è®¡ï¼šå¯¹ä¾›åº”é“¾è¿›è¡Œå®šæœŸå®¡è®¡ï¼Œç¡®ä¿ç¬¦åˆæ¬§ç›Ÿè¦æ±‚ã€‚`, content_en: `The EU requires garment accessory companies to disclose supply chain information, including raw material sources, production processes, and environmental standards. Non-compliant companies will face hefty fines. This measure aims to ensure the sustainability and fairness of production.\nImpact on Chinese Button Manufacturers:\n- Traceability System: Establish a comprehensive supply chain traceability system to record procurement and production information.\n- Supplier Management: Require suppliers to provide compliance documentation.\n- Regular Audits: Conduct regular audits of the supply chain to ensure compliance with EU requirements.`, source_zh: 'æ¬§ç›Ÿä¾›åº”é“¾é€æ˜æ³•è§„ã€EcoVadisæŠ¥å‘Š', source_en: 'EU Supply Chain Transparency Regulation, EcoVadis Reports', publishDate: '2025-05-25', sourceCountryCode: 'EU'},
            { id: 'news11', title_zh: 'å“ç‰Œæºæ‰‹è¾…æ–™å•†ï¼Œé•¿æœŸåˆä½œè°‹å…±èµ¢', title_en: 'Brands and Trim Suppliers Join Forces for Long-Term Win-Win Cooperation', content_zh: `è€å…‹ã€é˜¿è¿ªè¾¾æ–¯ç­‰å“ç‰Œé€šè¿‡ä¸ä¼˜è´¨è¾…æ–™ä¾›åº”å•†ç­¾è®¢é•¿æœŸåˆä½œåè®®ï¼Œç¡®ä¿äº§å“è´¨é‡ã€ä¾›åº”é“¾ç¨³å®šæ€§å’ŒååŒåˆ›æ–°ã€‚è¿™ç§æ¨¡å¼é™ä½åˆä½œæˆæœ¬ï¼Œæå‡å¸‚åœºç«äº‰åŠ›ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- è´¨é‡æå‡ï¼šæé«˜äº§å“è´¨é‡å’ŒæœåŠ¡æ°´å¹³ï¼Œäº‰å–é•¿æœŸåˆä½œæœºä¼šã€‚\n- è”åˆç ”å‘ï¼šä¸å“ç‰Œå…±åŒå¼€å‘åˆ›æ–°äº§å“ï¼Œæ»¡è¶³å¸‚åœºéœ€æ±‚ã€‚\n- ä¿¡ä»»å»ºç«‹ï¼šåŠ å¼ºæ²Ÿé€šï¼Œå»ºç«‹äº’ä¿¡åˆä½œæœºåˆ¶ã€‚`, content_en: `Brands like Nike and Adidas are ensuring product quality, supply chain stability, and collaborative innovation by signing long-term cooperation agreements with high-quality accessory suppliers. This model reduces cooperation costs and enhances market competitiveness.\nImpact on Chinese Button Manufacturers:\n- Quality Improvement: Enhance product quality and service levels to secure long-term cooperation opportunities.\n- Joint R&D: Collaborate with brands to develop innovative products that meet market demands.\n- Trust Building: Strengthen communication and establish mutual trust and cooperation mechanisms.`, source_zh: 'è€å…‹ä¾›åº”å•†æŠ¥å‘Šã€é˜¿è¿ªè¾¾æ–¯ä¾›åº”é“¾æˆ˜ç•¥', source_en: 'Nike Supplier Reports, Adidas Supply Chain Strategy', publishDate: '2025-05-24', sourceCountryCode: 'GLOBAL'},
            { id: 'news12', title_zh: 'ä¸œå—äºšè¾…æ–™ä¼ä¸šåŠ é€Ÿè‡ªåŠ¨åŒ–è½¬å‹', title_en: 'Southeast Asian Trim Companies Accelerate Automation Transformation', content_zh: `è¶Šå—ã€æ³°å›½ç­‰ä¸œå—äºšå›½å®¶ä¸ºåº”å¯¹å¸‚åœºç«äº‰ï¼ŒæŠ•èµ„è‡ªåŠ¨åŒ–è®¾å¤‡ï¼Œå¦‚å…¨è‡ªåŠ¨é’®æ‰£åˆ¶é€ æœºå’Œæ™ºèƒ½ä»“å‚¨ç³»ç»Ÿã€‚è¿™äº›æŠ€æœ¯æé«˜ç”Ÿäº§æ•ˆç‡ã€é™ä½äººå·¥æˆæœ¬å¹¶æå‡äº§å“è´¨é‡ã€‚\nå¯¹ä¸­å›½é’®æ‰£åˆ¶é€ å•†çš„å½±å“ï¼š\n- è‡ªåŠ¨åŒ–è¯„ä¼°ï¼šè¯„ä¼°è‡ªèº«è‡ªåŠ¨åŒ–æ°´å¹³ï¼ŒæŠ•èµ„ç›¸å…³è®¾å¤‡ã€‚\n- å‘˜å·¥åŸ¹è®­ï¼šåŸ¹è®­å‘˜å·¥æ“ä½œå’Œç»´æŠ¤è‡ªåŠ¨åŒ–è®¾å¤‡ã€‚\n- æµç¨‹ä¼˜åŒ–ï¼šä¼˜åŒ–ç”Ÿäº§æµç¨‹ï¼Œæå‡ç«äº‰åŠ›ã€‚`, content_en: `Countries in Southeast Asia, such as Vietnam and Thailand, are investing in automation equipment like fully automatic button-making machines and smart warehousing systems to cope with market competition. These technologies improve production efficiency, reduce labor costs, and enhance product quality.\nImpact on Chinese Button Manufacturers:\n- Automation Assessment: Evaluate their own automation levels and invest in relevant equipment.\n- Employee Training: Train employees to operate and maintain automation equipment.\n- Process Optimization: Optimize production processes to enhance competitiveness.`, source_zh: 'ä¸œç›Ÿæœè£…è¡Œä¸šæŠ¥å‘Šã€äºšæ´²åˆ¶é€ ä¸šè‡ªåŠ¨åŒ–è¶‹åŠ¿æŠ¥å‘Š', source_en: 'ASEAN Apparel Industry Report, Asia Manufacturing Automation Trends Report', publishDate: '2025-05-23', sourceCountryCode: 'SEA'}
        ];


        function updateDateDisplay() {
            const today = new Date();
            const options_zh = { year: 'numeric', month: 'long', day: 'numeric' };
            const options_en = { year: 'numeric', month: 'long', day: 'numeric' }; 
            currentDateElement.textContent = today.toLocaleDateString(currentLanguage === 'zh' ? 'zh-CN' : 'en-US', currentLanguage === 'zh' ? options_zh : options_en);
        }
        
        function getSnippet(fullContent, maxLength = 100) { 
            if (!fullContent) return '';
            let plainTextContent = fullContent.replace(/\n/g, " "); 
            if (plainTextContent.length <= maxLength) return plainTextContent;
            
            let snippet = plainTextContent.substring(0, maxLength);
            const lastSpace = snippet.lastIndexOf(' ');
            if (lastSpace > maxLength / 2 && lastSpace > 0) { 
                snippet = snippet.substring(0, lastSpace);
            }
            return snippet + '...';
        }

        function renderNewsItem(news) {
            const itemDiv = document.createElement('div');
            itemDiv.className = 'news-item';
            itemDiv.dataset.id = news.id;

            const title = news[`title_${currentLanguage}`];
            const fullContent = news[`content_${currentLanguage}`];
            const source = news[`source_${currentLanguage}`];
            const snippet = getSnippet(fullContent);
            const flagEmoji = flagEmojis[news.sourceCountryCode] || '';


            itemDiv.innerHTML = `
                <h3 class="news-title">${title}</h3>
                <div class="news-content-container">
                    <p class="news-snippet-content">${snippet}</p>
                    <p class="news-full-content hidden">${fullContent.replace(/- /g, 'â€¢ ').replace(/\n\n/g, '\n<br>\n')}</p> {/* Replace hyphens with bullets and add space for paragraphs */}
                </div>
                <button class="read-more-button mt-2" data-lang-key="read_more"><span class="button-text">é˜…è¯»å…¨æ–‡</span><span class="arrow-icon"> â–¼</span></button>
                <div class="news-actions mt-4 flex flex-wrap gap-3">
                    <button class="action-button tts-button" data-lang-key="read_aloud_item"><span class="icon-speaker"></span><span class="button-text">æœ—è¯»æ­¤æ¡</span></button>
                    <button class="ai-action-button ai-summary-button" data-news-id="${news.id}" data-lang-key="ai_summary_button"><span class="icon-ai"></span><span class="button-text">AIæ‘˜è¦</span></button>
                </div>
                <div class="ai-summary-display mt-4 hidden">
                    <p class="ai-summary-text-area"></p>
                </div>
                <p class="news-meta mt-4 pt-4 border-t border-gray-200"> 
                    <span class="flag-icon">${flagEmoji}</span>
                    <span data-lang-key="source">æ¥æº</span>: <span class="source-text">${source}</span> | 
                    <span data-lang-key="published_on">å‘å¸ƒäº</span>: <span class="publish-date-text">${new Date(news.publishDate).toLocaleDateString(currentLanguage === 'zh' ? 'zh-CN' : 'en-US')}</span>
                </p>
            `;
            
            const readMoreButton = itemDiv.querySelector('.read-more-button');
            const snippetContentEl = itemDiv.querySelector('.news-snippet-content');
            const fullContentEl = itemDiv.querySelector('.news-full-content');
            const arrowIcon = readMoreButton.querySelector('.arrow-icon');

            readMoreButton.addEventListener('click', () => {
                const isExpanded = fullContentEl.classList.contains('hidden');
                snippetContentEl.classList.toggle('hidden', isExpanded);
                fullContentEl.classList.toggle('hidden', !isExpanded);
                
                const buttonTextSpan = readMoreButton.querySelector('.button-text');
                buttonTextSpan.textContent = isExpanded ? (currentLanguage === 'zh' ? 'æ”¶èµ·è¯¦æƒ…' : 'Collapse Detail') : (currentLanguage === 'zh' ? 'é˜…è¯»å…¨æ–‡' : 'Read Full Article');
                readMoreButton.dataset.langKey = isExpanded ? 'collapse_detail' : 'read_more';
                if (arrowIcon) arrowIcon.style.transform = isExpanded ? 'rotate(180deg)' : 'rotate(0deg)';
                readMoreButton.classList.toggle('expanded', isExpanded);

            });

            itemDiv.querySelector('.tts-button').addEventListener('click', (e) => {
                stopReadAll(); 
                toggleTTS(news.id, title, fullContent, e.currentTarget);
            });
            itemDiv.querySelector('.ai-summary-button').addEventListener('click', (e) => {
                 handleAiSummary(news.id, title, fullContent, e.currentTarget); 
            });
            return itemDiv;
        }
        
        async function callGeminiAPI(promptText) {
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: promptText }] });
            const payload = { contents: chatHistory };
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                const errorData = await response.json();
                console.error('Gemini API Error:', errorData);
                throw new Error(`API request failed: ${errorData.error?.message || response.status}`);
            }

            const result = await response.json();
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                return result.candidates[0].content.parts[0].text.trim();
            } else {
                throw new Error(currentLanguage === 'zh' ? 'AIæœªèƒ½ç”Ÿæˆæœ‰æ•ˆå›å¤ã€‚' : 'AI did not generate a valid response.');
            }
        }

        async function handleAiSummary(newsId, title, fullNewsContent, button) { 
            const newsItemElement = document.querySelector(`.news-item[data-id="${newsId}"]`);
            const summaryDisplay = newsItemElement.querySelector('.ai-summary-display');
            const summaryTextArea = summaryDisplay.querySelector('.ai-summary-text-area');
            const buttonTextSpan = button.querySelector('.button-text');

            const originalButtonText = currentLanguage === 'zh' ? 'AIæ‘˜è¦' : 'AI Summary';
            const loadingText = currentLanguage === 'zh' ? 'ç”Ÿæˆä¸­...' : 'Generating...';
            const collapseText = currentLanguage === 'zh' ? 'éšè—æ‘˜è¦' : 'Hide Summary';
            const errorText = currentLanguage === 'zh' ? 'æ‘˜è¦å¤±è´¥' : 'Summary Failed';
            const initialPromptText = currentLanguage === 'zh' ? 'AIæ­£åœ¨åˆ†æ...' : 'AI is analyzing...';

            if (summaryDisplay.classList.contains('hidden') || summaryTextArea.textContent === '' || summaryTextArea.textContent.includes(initialPromptText.substring(0,5)) || summaryTextArea.textContent.includes(errorText.substring(0,2)) ) {
                button.disabled = true;
                if(buttonTextSpan) buttonTextSpan.textContent = loadingText; else button.childNodes[1].nodeValue = ` ${loadingText}`;
                summaryTextArea.textContent = initialPromptText;
                summaryDisplay.classList.remove('hidden');

                const promptForSummary = currentLanguage === 'zh' ?
                    `è¯·ä¸ºä»¥ä¸‹å…³äºæœè£…è¾…æ–™çš„æ–°é—»å†…å®¹ç”Ÿæˆä¸€ä¸ªéå¸¸ç®€æ´ã€ç²¾ç‚¼çš„æ ¸å¿ƒæ‘˜è¦ï¼ˆè¯·ä¸¥æ ¼æ§åˆ¶åœ¨70ä¸­æ–‡å­—ä»¥å†…ï¼Œçªå‡ºå…³é”®ä¿¡æ¯ï¼‰ï¼š\næ–°é—»æ ‡é¢˜ï¼š${title}\næ–°é—»å†…å®¹ï¼š\n${fullNewsContent}\n\næ ¸å¿ƒæ‘˜è¦ï¼š` :
                    `Generate a very concise and insightful core summary (strictly within 40-50 words, highlighting key information) for the following fashion accessories news content:\nNews Title: ${title}\nNews Content:\n${fullNewsContent}\n\nCore Summary:`;

                try {
                    const aiGeneratedText = await callGeminiAPI(promptForSummary);
                    summaryTextArea.textContent = aiGeneratedText;
                    if(buttonTextSpan) buttonTextSpan.textContent = collapseText; else button.childNodes[1].nodeValue = ` ${collapseText}`;
                    button.dataset.langKey = "ai_summary_collapse"; 
                } catch (error) {
                    console.error("AI Summary Error:", error);
                    summaryTextArea.textContent = `${errorText}: ${error.message}`;
                    if(buttonTextSpan) buttonTextSpan.textContent = originalButtonText; else button.childNodes[1].nodeValue = ` ${originalButtonText}`;
                     button.dataset.langKey = "ai_summary_button";
                } finally {
                    button.disabled = false;
                }
            } else {
                summaryDisplay.classList.toggle('hidden');
                if (summaryDisplay.classList.contains('hidden')) {
                    if(buttonTextSpan) buttonTextSpan.textContent = originalButtonText; else button.childNodes[1].nodeValue = ` ${originalButtonText}`;
                    button.dataset.langKey = "ai_summary_button";
                } else {
                    if(buttonTextSpan) buttonTextSpan.textContent = collapseText; else button.childNodes[1].nodeValue = ` ${collapseText}`;
                    button.dataset.langKey = "ai_summary_collapse";
                }
            }
        }
        
        async function handleAiTrendAnalysis(button) {
            const buttonTextSpan = button.querySelector('.button-text');
            const originalButtonText = currentLanguage === 'zh' ? 'AIè¶‹åŠ¿åˆ†æ' : 'AI Trend Analysis';
            const loadingText = currentLanguage === 'zh' ? 'åˆ†æä¸­...' : 'Analyzing...';
            const collapseText = currentLanguage === 'zh' ? 'éšè—è¶‹åŠ¿åˆ†æ' : 'Hide Trend Analysis';
            const errorText = currentLanguage === 'zh' ? 'è¶‹åŠ¿åˆ†æå¤±è´¥' : 'Trend Analysis Failed';
            const initialPromptText = currentLanguage === 'zh' ? 'AIæ­£åœ¨åˆ†ææ‰€æœ‰æ–°é—»ä»¥æç‚¼è¶‹åŠ¿...' : 'AI is analyzing all news to extract trends...';

            if (aiTrendAnalysisSection.classList.contains('hidden') || aiTrendAnalysisDisplay.textContent === '' || aiTrendAnalysisDisplay.textContent.includes(initialPromptText.substring(0,5)) || aiTrendAnalysisDisplay.textContent.includes(errorText.substring(0,2))) {
                button.disabled = true;
                if(buttonTextSpan) buttonTextSpan.textContent = loadingText; else button.childNodes[1].nodeValue = ` ${loadingText}`;
                aiTrendAnalysisDisplay.textContent = initialPromptText;
                aiTrendAnalysisSection.classList.remove('hidden');

                let newsContext = "";
                initialNewsData.forEach((news, index) => {
                    const t = news[`title_${currentLanguage}`];
                    const c_snippet = getSnippet(news[`content_${currentLanguage}`], 250); 
                    newsContext += `æ–°é—» ${index + 1} (æ¥æº: ${news[`source_${currentLanguage}`]}):\næ ‡é¢˜ï¼š${t}\nå†…å®¹æ¦‚è¦ï¼š${c_snippet}\n\n`;
                });

                const promptForTrends = currentLanguage === 'zh' ?
                    `ä½œä¸ºæœè£…è¾…æ–™è¡Œä¸šï¼ˆç‰¹åˆ«æ˜¯é’®æ‰£å·¥å‚ï¼‰çš„èµ„æ·±æˆ˜ç•¥é¡¾é—®ï¼Œè¯·åŸºäºä»¥ä¸‹${initialNewsData.length}æ¡å›½é™…æœè£…è¾…æ–™æ–°é—»ï¼ˆæ¯æ¡åŒ…å«æ ‡é¢˜å’Œå†…å®¹æ¦‚è¦ï¼‰ï¼Œè¿›è¡Œæ·±å…¥ä¸”ç»†è‡´çš„åˆ†æã€‚æ‚¨çš„ç›®æ ‡æ˜¯æç‚¼å‡º2-3ä¸ªå¯¹äºã€æœè£…è¾…æ–™é’®æ‰£å·¥å‚ã€‘è€Œè¨€ï¼Œæœ€å…·å‰ç»æ€§ã€èƒ½å¤Ÿç›´æ¥å¯å‘å…¶åœ¨ã€äº§å“åˆ›æ–°ã€‘ï¼ˆä¾‹å¦‚æ–°ææ–™ã€æ–°åŠŸèƒ½ã€æ–°è®¾è®¡ç†å¿µçš„é’®æ‰£ï¼‰ã€ã€å·¥è‰ºæ”¹è¿›ã€‘ï¼ˆä¾‹å¦‚æ›´ç¯ä¿ã€é«˜æ•ˆçš„ç”Ÿäº§æ–¹å¼ï¼‰ã€ã€å¸‚åœºæ‹“å±•ã€‘ï¼ˆä¾‹å¦‚æ–°çš„ç›®æ ‡å¸‚åœºã€æ–°çš„åˆä½œæ¨¡å¼ï¼‰æˆ–ã€æ•´ä½“æˆ˜ç•¥è°ƒæ•´ã€‘æ–¹é¢çš„ã€æ–°æ€è€ƒå’Œå…·ä½“å‘å±•æ–¹å‘ã€‘ã€‚è¯·ç¡®ä¿æ‚¨çš„åˆ†æç‹¬åˆ°ä¸”å…·æœ‰å¯æ“ä½œæ€§ï¼Œé¿å…å®½æ³›çš„é™ˆè¿°ï¼ŒåŠ›æ±‚ä¸ºé’®æ‰£å·¥å‚çš„æˆé•¿è¿­ä»£æä¾›å…·ä½“ã€æœ‰ä»·å€¼çš„å»ºè®®ã€‚è¯·ç”¨æ¸…æ™°ã€ç®€æ´çš„è¯­è¨€è¡¨è¿°ï¼Œæ¯æ¡æ€è€ƒ/æ–¹å‘å‰ç”¨æ•°å­—ç¼–å·ï¼Œå¹¶ç¡®ä¿å›å¤åªåŒ…å«è¿™äº›æ–°æ€è€ƒå’Œå‘å±•æ–¹å‘ã€‚` :
                    `As a senior strategic advisor for the fashion accessories industry (specifically for button factories), please conduct an in-depth and detailed analysis based on the following ${initialNewsData.length} news items about fashion accessories (each including title and content summary). Your goal is to extract 2-3 of the most forward-looking 'new ideas and specific development directions' for [clothing accessories button factories] that can directly inspire their [product innovation] (e.g., new materials, new functions, new design concepts for buttons), [process improvement] (e.g., more eco-friendly, efficient production methods), [market expansion] (e.g., new target markets, new collaboration models), or [overall strategic adjustments]. Ensure your analysis is unique and actionable, avoiding broad statements, and strive to provide concrete, valuable recommendations for the growth and iteration of button factories. Use clear, concise language, number each idea/direction, and ensure the response contains only these new ideas and development directions.`;
                
                try {
                    const aiGeneratedTrends = await callGeminiAPI(promptForTrends);
                    aiTrendAnalysisDisplay.textContent = aiGeneratedTrends;
                    if(buttonTextSpan) buttonTextSpan.textContent = collapseText; else button.childNodes[1].nodeValue = ` ${collapseText}`;
                    button.dataset.langKey = "ai_trend_collapse";
                } catch (error) {
                    console.error("AI Trend Analysis Error:", error);
                    aiTrendAnalysisDisplay.textContent = `${errorText}: ${error.message}`;
                    if(buttonTextSpan) buttonTextSpan.textContent = originalButtonText; else button.childNodes[1].nodeValue = ` ${originalButtonText}`;
                    button.dataset.langKey = "ai_trend_analysis_button";
                } finally {
                    button.disabled = false;
                }
            } else {
                aiTrendAnalysisSection.classList.toggle('hidden');
                 if (aiTrendAnalysisSection.classList.contains('hidden')) {
                    if(buttonTextSpan) buttonTextSpan.textContent = originalButtonText; else button.childNodes[1].nodeValue = ` ${originalButtonText}`;
                    button.dataset.langKey = "ai_trend_analysis_button";
                } else {
                    if(buttonTextSpan) buttonTextSpan.textContent = collapseText; else button.childNodes[1].nodeValue = ` ${collapseText}`;
                    button.dataset.langKey = "ai_trend_collapse";
                }
            }
        }

        aiTrendAnalysisButton.addEventListener('click', (e) => handleAiTrendAnalysis(e.currentTarget));

        function renderNewsFeed() {
            newsFeed.innerHTML = '';
            loadingState.classList.add('hidden');

            if (initialNewsData.length === 0) {
                noNewsState.classList.remove('hidden');
                return;
            }
            noNewsState.classList.add('hidden');
            initialNewsData.forEach(news => {
                newsFeed.appendChild(renderNewsItem(news));
            });
            updateStaticUIText();
        }
        
        function stopReadAll(updateButtonUIText = true) {
            if (isPlayingAll) {
                isPlayingAll = false;
                speechInstance.cancel();
                currentUtterance = null;
                currentPlayAllIndex = 0;
                document.querySelectorAll('.news-item.reading').forEach(item => item.classList.remove('reading'));
            }
             if(updateButtonUIText) updateStaticUIText(); 
        }

        function speakNextNewsItem() {
            if (!isPlayingAll || currentPlayAllIndex >= initialNewsData.length) {
                stopReadAll();
                return;
            }

            document.querySelectorAll('.news-item.reading').forEach(item => item.classList.remove('reading'));

            const news = initialNewsData[currentPlayAllIndex];
            const title = news[`title_${currentLanguage}`];
            const content = news[`content_${currentLanguage}`]; 
            const fullText = `${title}. ${content}`;
            
            const newsItemElement = newsFeed.querySelector(`.news-item[data-id="${news.id}"]`);
            if (newsItemElement) {
                newsItemElement.classList.add('reading');
                newsItemElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }

            currentUtterance = new SpeechSynthesisUtterance(fullText);
            currentUtterance.lang = currentLanguage === 'zh' ? 'zh-CN' : 'en-US';
            currentUtterance.newsId = news.id; 

            currentUtterance.onend = () => {
                if (newsItemElement) newsItemElement.classList.remove('reading');
                if (isPlayingAll) { 
                    currentPlayAllIndex++;
                    speakNextNewsItem();
                } else {
                     currentUtterance = null; 
                }
            };
            currentUtterance.onerror = (event) => {
                if (newsItemElement) newsItemElement.classList.remove('reading');
                if (event.error === 'interrupted') {
                    console.log(`SpeechSynthesisUtterance (Read All for item ${news.id}) was intentionally interrupted.`);
                    if (isPlayingAll) {
                        stopReadAll();
                    }
                } else {
                    console.error(`SpeechSynthesisUtterance.onerror (Read All for item ${news.id})`, event, 'Error details:', event.error);
                    if (isPlayingAll) { 
                        currentPlayAllIndex++;
                        speakNextNewsItem();
                    }
                }
                if (!isPlayingAll || event.error) { 
                    currentUtterance = null;
                }
            };
            speechInstance.speak(currentUtterance);
        }

        readAllButton.addEventListener('click', () => {
            if (isPlayingAll) {
                stopReadAll();
            } else {
                if (speechInstance.speaking && currentUtterance) { 
                    speechInstance.cancel();
                    const individualSpeakingButton = newsFeed.querySelector(`.tts-button.speaking`);
                    if(individualSpeakingButton) {
                        individualSpeakingButton.classList.remove('speaking');
                    }
                     document.querySelectorAll('.news-item.reading').forEach(item => item.classList.remove('reading'));
                }
                isPlayingAll = true;
                currentPlayAllIndex = 0;
                speakNextNewsItem();
            }
            updateStaticUIText();
        });


        function toggleTTS(newsId, title, fullNewsContent, button) { 
            stopReadAll(false); 

            const newsItemElement = button.closest('.news-item');

            if (speechInstance.speaking && currentUtterance && currentUtterance.newsId === newsId) {
                speechInstance.cancel(); 
                currentUtterance = null;
                button.classList.remove('speaking');
                if (newsItemElement) newsItemElement.classList.remove('reading');
            } else {
                if (speechInstance.speaking) {
                    speechInstance.cancel(); 
                    document.querySelectorAll('.tts-button.speaking').forEach(btn => {
                        btn.classList.remove('speaking');
                    });
                    document.querySelectorAll('.news-item.reading').forEach(item => item.classList.remove('reading'));
                }

                const textToSpeak = `${title}. ${fullNewsContent}`; 
                currentUtterance = new SpeechSynthesisUtterance(textToSpeak);
                currentUtterance.lang = currentLanguage === 'zh' ? 'zh-CN' : 'en-US';
                currentUtterance.newsId = newsId; 
                
                currentUtterance.onstart = () => {
                    if (newsItemElement) newsItemElement.classList.add('reading');
                };
                currentUtterance.onend = () => {
                    button.classList.remove('speaking');
                    if (newsItemElement) newsItemElement.classList.remove('reading');
                    currentUtterance = null;
                    updateStaticUIText(); 
                };
                currentUtterance.onerror = (event) => {
                    if (newsItemElement) newsItemElement.classList.remove('reading');
                     if (event.error === 'interrupted') {
                        console.log(`SpeechSynthesisUtterance (Individual for item ${newsId}) was intentionally interrupted.`);
                    } else {
                        console.error(`SpeechSynthesisUtterance.onerror (Individual for item ${newsId})`, event, 'Error details:', event.error);
                    }
                    button.classList.remove('speaking');
                    currentUtterance = null; 
                    updateStaticUIText(); 
                };

                speechInstance.speak(currentUtterance);
                button.classList.add('speaking');
            }
            updateStaticUIText();
        }

        function updateStaticUIText() {
            appTitleElement.textContent = appTitles[currentLanguage];
            updateDateDisplay(); 
            languageSwitcherBtn.textContent = currentLanguage === 'zh' ? 'EN' : 'ä¸­';
            
            const readAllButtonTextSpan = readAllButton.querySelector('.button-text');
            if (isPlayingAll) {
                if(readAllButtonTextSpan) readAllButtonTextSpan.textContent = currentLanguage === 'zh' ? 'åœæ­¢è‡ªåŠ¨æœ—è¯»' : 'Stop Auto Reading';
            } else {
                if(readAllButtonTextSpan) readAllButtonTextSpan.textContent = currentLanguage === 'zh' ? 'è‡ªåŠ¨æœ—è¯»å…¨éƒ¨' : 'Read All Automatically';
            }
            
            const aiTrendButtonTextSpan = aiTrendAnalysisButton.querySelector('.button-text');
            const aiTrendButtonOriginalText = currentLanguage === 'zh' ? 'AIè¶‹åŠ¿åˆ†æ' : 'AI Trend Analysis';
            const aiTrendButtonCollapseText = currentLanguage === 'zh' ? 'éšè—è¶‹åŠ¿åˆ†æ' : 'Hide Trend Analysis';
            if (aiTrendAnalysisSection.classList.contains('hidden') || aiTrendAnalysisDisplay.textContent === '' || aiTrendAnalysisDisplay.textContent.includes('AIæ­£åœ¨åˆ†æ') || aiTrendAnalysisDisplay.textContent.includes('è¶‹åŠ¿åˆ†æå¤±è´¥')) {
                 if(aiTrendButtonTextSpan) aiTrendButtonTextSpan.textContent = aiTrendButtonOriginalText;
                 aiTrendAnalysisButton.dataset.langKey = "ai_trend_analysis_button";
            } else {
                 if(aiTrendButtonTextSpan) aiTrendButtonTextSpan.textContent = aiTrendButtonCollapseText;
                 aiTrendAnalysisButton.dataset.langKey = "ai_trend_collapse";
            }


            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.dataset.langKey;
                let text = '';
                if (key === 'source') text = currentLanguage === 'zh' ? 'æ¥æº' : 'Source';
                else if (key === 'published_on') text = currentLanguage === 'zh' ? 'å‘å¸ƒäº' : 'Published on';
                
                else if (key === 'read_aloud_item') text = currentLanguage === 'zh' ? 'æœ—è¯»æ­¤æ¡' : 'Read This';
                else if (key === 'read_failed_item') text = currentLanguage === 'zh' ? 'æœ—è¯»å¤±è´¥' : 'Read Failed';

                else if (key === 'ai_summary_button') text = currentLanguage === 'zh' ? 'AIæ‘˜è¦' : 'AI Summary';
                else if (key === 'ai_summary_collapse') text = currentLanguage === 'zh' ? 'éšè—æ‘˜è¦' : 'Hide Summary';
                
                else if (key === 'ai_trend_analysis_title') text = currentLanguage === 'zh' ? 'AIè¶‹åŠ¿æ´å¯Ÿ' : 'AI Trend Insights';
                
                else if (key === 'read_more') text = currentLanguage === 'zh' ? 'é˜…è¯»å…¨æ–‡' : 'Read Full Article';
                else if (key === 'collapse_detail') text = currentLanguage === 'zh' ? 'æ”¶èµ·è¯¦æƒ…' : 'Collapse Detail';

                const buttonTextEl = el.querySelector('.button-text');

                if (el.tagName === 'BUTTON' && el.id !== 'languageSwitcher' && el.id !== 'readAllButton' && el.id !== 'aiTrendAnalysisButton') { 
                    if (el.classList.contains('tts-button')) {
                        const buttonTextContent = el.classList.contains('speaking') ? (currentLanguage === 'zh' ? 'åœæ­¢æœ—è¯»' : 'Stop Reading') : (currentLanguage === 'zh' ? 'æœ—è¯»æ­¤æ¡' : 'Read This');
                        if(buttonTextEl) buttonTextEl.textContent = buttonTextContent;
                    } else if (el.classList.contains('ai-summary-button')) {
                        const summaryDisp = el.closest('.news-item').querySelector('.ai-summary-display');
                        let aiButtonTextContent = '';
                        if (summaryDisp && !summaryDisp.classList.contains('hidden') && summaryDisp.querySelector('.ai-summary-text-area').textContent.length > 0 && !summaryDisp.querySelector('.ai-summary-text-area').textContent.includes('æ­£åœ¨') && !summaryDisp.querySelector('.ai-summary-text-area').textContent.includes('é”™è¯¯') && !summaryDisp.querySelector('.ai-summary-text-area').textContent.includes('æœªèƒ½')) {
                             aiButtonTextContent = currentLanguage === 'zh' ? 'éšè—æ‘˜è¦' : 'Hide Summary';
                        } else if (el.disabled) { 
                            aiButtonTextContent = currentLanguage === 'zh' ? 'ç”Ÿæˆä¸­...' : 'Generating...';
                        } else {
                            aiButtonTextContent = currentLanguage === 'zh' ? 'AIæ‘˜è¦' : 'AI Summary';
                        }
                        if(buttonTextEl) buttonTextEl.textContent = aiButtonTextContent;

                    } else if (el.classList.contains('read-more-button')) {
                        const fullContentDiv = el.closest('.news-item').querySelector('.news-full-content');
                         const buttonTextContent = (fullContentDiv && !fullContentDiv.classList.contains('hidden')) ? (currentLanguage === 'zh' ? 'æ”¶èµ·è¯¦æƒ…' : 'Collapse Detail') : (currentLanguage === 'zh' ? 'é˜…è¯»å…¨æ–‡' : 'Read Full Article');
                        if(buttonTextEl) buttonTextEl.textContent = buttonTextContent; else el.textContent = buttonTextContent; 
                    }

                } else if (text && el.tagName !== 'BUTTON' && el.id !== 'aiTrendAnalysisButton') { 
                    // This targets spans like "æ¥æº:" and "å‘å¸ƒäº:"
                    if (el.dataset.langKey === 'source' || el.dataset.langKey === 'published_on'){
                         // The text for these is part of the innerHTML, so we update the specific spans
                         const sourceTextSpan = el.closest('.news-meta').querySelector('.source-text');
                         const publishDateTextSpan = el.closest('.news-meta').querySelector('.publish-date-text');
                         if(sourceTextSpan && el.dataset.langKey === 'source') { /* Update logic for source text if needed */ }
                         if(publishDateTextSpan && el.dataset.langKey === 'published_on') { /* Update logic for date text if needed */ }
                         // The label itself:
                         if(el.childNodes.length > 0 && el.childNodes[0].nodeType === Node.TEXT_NODE) {
                            el.childNodes[0].nodeValue = text + ': '; // Add colon back
                         }
                    }
                } else if (text && el.id === 'aiTrendAnalysisTitle') { 
                    el.textContent = text;
                }
            });
            const trendTitleEl = document.querySelector('#aiTrendAnalysisSection .section-title');
            if(trendTitleEl) {
                trendTitleEl.textContent = currentLanguage === 'zh' ? 'AIè¶‹åŠ¿æ´å¯Ÿ' : 'AI Trend Insights';
            }
        }

        languageSwitcherBtn.addEventListener('click', () => {
            currentLanguage = currentLanguage === 'zh' ? 'en' : 'zh';
            stopReadAll(); 
            document.querySelectorAll('.ai-summary-display').forEach(disp => disp.classList.add('hidden'));
            aiTrendAnalysisSection.classList.add('hidden'); 
            aiTrendAnalysisDisplay.textContent = ''; 
            renderNewsFeed(); 
        });
        
        updateDateDisplay();
        renderNewsFeed();

    </script>
</body>
</html>
